<!-- views/layout.ejs: -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Subcontractor Management System</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous">
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
    rel="stylesheet">
</head>

<body style="font-family: 'Roboto', sans-serif;">
  <nav class="navbar navbar-expand navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="/">Subcontractor Management System</a>
      <ul class="navbar-nav">
        <% if (typeof session.user !== 'undefined' && session.user.role === 'admin') { %>
        <li class="nav-item">
          <a class="nav-link" href="/admin">Admin Dashboard</a>
        </li>
        <% } %>
        <% if (typeof session.user !== 'undefined') { %>
        <li class="nav-item">
          <a class="nav-link" href="/dashboard">Dashboard</a>
        </li>
        <% } else { %>
        <% } %>
      </ul>
      <ul class="navbar-nav ml-auto hstack gap-3">
        <% if (typeof session.user === 'undefined') { %>
        <li class="nav-item">
          <a class="nav-link" href="/login"><i class="bi bi-box-arrow-in-right"></i> Login</a>
        </li>
        <div class="vr"></div>
        <li class="nav-item">
          <a class="nav-link" href="/register"><i class="bi bi-book"></i> Register</a>
        </li>
        <% } else { %>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-plus-circle-dotted"></i> Create
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/subcontractor/create"><i class="bi bi-person-plus"></i> New
                Subcontractor</a></li>
            <li><a class="dropdown-item" href="/invoice/select"><i class="bi bi-file-plus"></i> New Invoice</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-person"></i> My Account
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/account"><i class="bi bi-person"></i> Account</a></li>
            <li><a class="dropdown-item" href="/account/settings"><i class="bi bi-gear"></i> Settings</a>
            </li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/logout"><i class="bi bi-box-arrow-right"></i> Logout</a>
        </li>
        <% } %>
      </ul>
    </div>
  </nav>

  <main class="container mt-4">
    <%- body %>
  </main>

  <footer class="bg-light text-center py-4 fixed-bottom">
    <p><i class="bi bi-c-circle-fill"></i> 2023 <%= packageJson.author %> | <i class="bi bi-git"></i>
      <%= packageJson.version %> </p>
    <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">
      <img alt="Creative Commons Licence" style="border-width:0"
        src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" />
    </a>
    <br>
    <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0</a>
  </footer>
  <script>
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
  </script>
</body>

</html>